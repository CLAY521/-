(window.webpackJsonp=window.webpackJsonp||[]).push([["072b030ba126"],{vb1277:function(t,e,o){"use strict";o.r(e),o.d(e,"GroupTitleTextEditor",function(){return i});var s=o("vb143"),n=o("vb103"),u=o.n(n),c=(o("vb147"),o("vb129"),o("vb152"),o("vb223"),o("vb214"),o("vb232"),o("vb187"),o("vb174"),o("vb225"),o("vb224"),o("vb128"),o("vb148"),o("vb122"),o("vb115"),o("vb112"),o("vb118"),o("vb119"),o("vb113"),o("vb167"),o("vb164"),o("vb233"),o("vb234"),o("vb235"),o("vb123"),o("vb236"),o("vb193"),o("vb237"),o("vb155"),o("vb238"),o("vb124"),o("vb239"),o("vb111"),o("vb104"),o("vb159"),o("vb116"),o("vb120"),o("vb121"),o("vb117"),o("vb240"),o("vb134"),o("vb131"),o("vb226"),o("vb241"),o("vb114"),o("vb110"),o("vb125"),o("vb242"),o("vb127"),o("vb132"),o("vb227"),o("vb135"),o("vb228"),o("vb229"),o("vb133"),o("vb126"),o("vb243"),o("vb262"),o("vb244"),o("vb245"),o("vb246"),o("vb247"),o("vb194"),o("vb248"),o("vb249"),o("vb201"),o("vb260"),o("vb267"),o("vb250"),o("vb136"),o("vb251"),o("vb130"),o("vb252"),"HEADER_TEXT_EDITOR"),i=function(e){function o(t){var v;return Object(s.ov)(this,o),(v=e.call(this,t)||this).setTextEditorRef=function(t){v.textEditorRef=t},v.setInputElement=function(t){v.InputRef=t},v.getOptionColor=function(){var t=v.props,e=t.bitableStore,o=t.fieldId,n=t.groupValue,i=t.tableId,l=e.base.getTableById(i).getField(o),b=l.findOptionById(n);return b?b.color:Object(s.PN)(l.getOptions().map(function(t){return t.color}))},v.setColor=function(t){var e=v.props,o=e.tableId,n=e.viewId,i=e.bitableStore.base.getTableById(o).getViewById(n);s.ob.collectBitableEvent(s.On.BitableColorSet,{action:"choose_color",from_color:v.state.colorId,to_color:t,source:"group",table_id:o,view_id:n,bitable_view_type:s.Cz[i.type]}),v.setState({colorId:t})},v.state={offsetY:0,colorId:v.getOptionColor()},v}return Object(s.bu)(o,e),Object(s.Pw)(o,[{key:"componentDidMount",value:function(){this.setEditorValue(this.props.defaultInputValue)}},{key:"setDefaultValue",value:function(){}},{key:"setEditorValue",value:function(t){this.InputRef&&(this.InputRef.value=null!==t?t:"")}},{key:"onStartEdit",value:function(t){this.selectEditorContent(),this.fixLayout()}},{key:"onEndEdit",value:function(t){var e=this.InputRef,o=this.props,n=o.bitableStore,i=o.tableId;if(!t&&e){if(!n.base.getTableById(i))return;this.props.executeCommand({value:e.value,color:this.state.colorId})}this.InputRef&&(this.setEditorValue(null),this.setState({offsetY:0}))}},{key:"fixLayout",value:function(){if(this.textEditorRef){var t=this.textEditorRef.getBoundingClientRect(),e=document.body.clientHeight,o=0;t.bottom>e&&(o=t.bottom-e+s.vH),this.state.offsetY!==o&&this.setState({offsetY:o})}}},{key:"selectEditorContent",value:function(){if(this.InputRef){var t=this.InputRef.value.length;this.InputRef.setSelectionRange(0,t)}}},{key:"focus",value:function(){if(this.props.editable){var t=document.querySelector(".etherpad-container-wrapper"),e=t?t.scrollTop:0;if(null!==this.InputRef){var o=document.documentElement.scrollLeft;this.InputRef.focus({preventScroll:!0}),document.documentElement.scrollLeft!==o&&setTimeout(function(){document.documentElement.scrollLeft=o},0);var n=this.InputRef.value.length;this.InputRef.setSelectionRange(n,n)}s.rx.safari?setTimeout(function(){t&&(t.scrollTop=e)}):t&&(t.scrollTop=e)}}},{key:"render",value:function(){var t=this.props,e=t.style,o=t.fieldId,n=t.placeholder,i=t.onChange,l=t.editable,b=this.state,v=b.offsetY,r=b.colorId,a="".concat(c,"_").concat(o);return u.a.createElement("div",{className:"bitable-group-title-text-editor-container",id:a,style:Object.assign({},e,{transform:"translateY(-".concat(v,"px)")}),ref:this.setTextEditorRef},u.a.createElement("input",{className:"group-title-text-input",placeholder:n,ref:this.setInputElement,onChange:i}),u.a.createElement(s.QN,{value:r,editable:l,onColorSelected:this.setColor,placement:"bottom",hideOnScroll:!0}))}}]),o}(u.a.Component)}}]);
//# sourceMappingURL=//slardar.bytedance.net/api_v2/browser/jserr/get_sourcemap?bid=docs_pc&js_filename=072b030ba126.e26093a320.chunk.js