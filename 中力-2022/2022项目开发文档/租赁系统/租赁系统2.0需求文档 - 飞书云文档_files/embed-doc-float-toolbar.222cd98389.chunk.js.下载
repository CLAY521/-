(window.webpackJsonp=window.webpackJsonp||[]).push([["cff1a60ace08"],{vb326:function(e,t,n){"use strict";function a(e){var t;return(null==e||null===(t=e.ui)||void 0===t?void 0:t.showComment)||!1}function o(e){return!(null!=e&&e.disableReminder)}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},vb449:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});var C=n("vb143");n("vb147"),n("vb103"),n("vb148"),n("vb152"),n("vb112"),n("vb164"),n("vb167"),n("vb113"),n("vb174"),n("vb155");function a(t,n){var e,a=n.viewId;function o(){var e=(0,n.addFormView)();(null==e?void 0:e.result)===C.Ey.Success&&(t.toggleSidebar(!1),t.toggleFormSettingsPanel(e.data.viewId,!0),setTimeout(function(){var e=document.querySelector(".bitable-form-title-text");null==e||e.click()},200))}return{openFilter:t.isOpenFilter,fieldPanelOpened:t.isOpenFieldPanel,ganttBarSettingsPanelOpened:t.isOpenGanttBarSettingsPanel,groupOpened:t.isOpenGroup,kanbanGroupOpened:t.isOpenKanbanGroup,rowHeightPanelOpened:t.isOpenRowHeightPanel,sortPanelOpened:t.isOpenSortPanel,toggleFieldPanel:t.toggleFieldPanel,toggleFilter:t.toggleFilter,toggleGanttBarSettingsPanel:t.toggleGanttBarSettingsPanel,toggleGroup:t.toggleGroup,toggleKanbanGroup:t.toggleKanbanGroup,toggleRowHeightPanel:t.toggleRowHeightPanel,toggleSortPanel:t.toggleSortPanel,findPanelOpened:t.isOpenFindPanel,shareFormPanelOpened:t.isOpenShareFormPanel,toggleFindPanel:t.toggleFindPanel,toggleFormSharePanel:t.toggleFormSharePanel,onAddFormView:o,isCommentDataInit:t.isCommentDataInit,formSettingsPanelOpened:null!==(e=t.formSettingsPanelMap.get(a))&&void 0!==e&&e,toggleFormSettingsPanel:t.toggleFormSettingsPanel,toggleSidebar:t.toggleSidebar}}function o(e,t){var n,a,o,i,l=e.base,r=e.env,b=e.permissionStore,c=t.tableId,d=t.viewId,s=l.getTable(c),u=null==s?void 0:s.getView(d),v=(null!==(n=null==u?void 0:u.getAllFields())&&void 0!==n?n:[]).reduce(function(e,t){var n=null==s?void 0:s.getField(t);return n&&Object(C.hB)(n.getType())&&n.validateValueInView(c)&&e.push({id:n.getId(),name:n.getName(),type:n.getType()}),e},[]),p=b.hasPermission(C.qy.View,{tableId:c,viewId:d},C.ry.Editable),g=u&&u.isType(C.az.Grid)?u.getRowHeightLevel():C.CD.Short;return{moduleType:r.getModuleType(),view:u?Object(C.lB)(u):void 0,groupFields:v,embeddedType:r.getEmbeddedType(),groupInfo:null!==(a=null==u?void 0:u.getGroupInfo())&&void 0!==a?a:[],isAutoSort:null!==(o=null==u?void 0:u.isAutoSort())&&void 0!==o&&o,sortInfo:null!==(i=null==u?void 0:u.getSortInfo())&&void 0!==i?i:[],viewEditable:p,rowHeightLevel:g}}function i(e,t){var i=e.base,a=e.operate,o=e.permissionStore,l=t.tableId,r=t.viewId,b=t.isInvalidView,c=t.editable,d=t.renderer,n=t.mountOption,s=t.smartableCommentManager;function u(e,t){if(e&&t){var n=i.getTable(e);if(n){var a=n.getView(t);if(a&&a.isType(C.az.Kanban)){var o=a.getGroupField();if(o)return{id:o.id,name:o.name,type:o.type,fieldUIType:o.fieldUIType}}}}return null}function v(e){var t=i.getTable(l),n=t.getView(r);return a.viewOperate.setGroupSync({tableId:l,viewId:r,group:[{fieldId:e,desc:!1}]}),{fieldStringType:Object(C.pF)(n),fieldType:(null==t?void 0:t.getField(e)).getType()}}function p(e){var t=i.getTable(l),n=null==t?void 0:t.getField(e);return null==n?void 0:n.getStringType()}function g(){return o.hasPermission(C.qy.Record,{tableId:l,viewId:r},C.ry.Editable)}function h(e){return o.hasPermission(e,{tableId:l||"",viewId:r||""},C.ry.LocalEditable)}function f(e){var t=!b&&c&&o.hasPermission(C.qy.View,{tableId:l||"",viewId:r||""},C.ry.Editable),n=o.hasPermission(e,{tableId:l,viewId:r},C.ry.Editable);return h(e)||t&&n}function m(){var e=i.getTable(l),t=null==e?void 0:e.getView(r);if(t){var n=a.tableOperate.addViewSync({activeViewId:t.getId(),tableId:l,type:C.az.Form});return n.result===C.Ey.Success&&d.switchView(Object(C.aB)(i),l,n.data.viewId),n}}function w(e){null==s||s.triggerCreateComment(e,C.YH.EditorBar,n)}return{getKanbanGroupField:u,onSetGroup:v,getFieldStringType:p,hasEditRecordPermission:g,undo:a.undo,redo:a.redo,hasToolBarEntityPermission:f,addFormView:m,getLocalEditable:h,triggerCreateComment:w}}},vb970:function(e,k,E){"use strict";E.r(k),function(S){E.d(k,"EmbeddedDocFloatToolBar",function(){return y});var T=E("vb143"),e=E("vb196"),t=E("vb114"),n=(E("vb147"),E("vb103")),R=E.n(n),a=(E("vb148"),E("vb185")),F=(E("vb152"),E("vb112"),E("vb164"),E("vb167"),E("vb113"),E("vb174"),E("vb155"),E("vb398")),d=E("vb111"),o=E("vb159"),C=E.n(o),c=E("vb2202"),s=E("vb2193"),i=E("vb2190"),I=E("vb2203"),u=E("vb2240"),l=E("vb2195"),r=E("vb2205"),P=E("vb2191"),j=E("vb2152"),O=E("vb382"),V=E("vb326"),b=E("vb449"),B=(E("vb129"),E("vb223"),E("vb214"),E("vb232"),E("vb187"),E("vb225"),E("vb224"),E("vb128"),E("vb122"),E("vb115"),E("vb118"),E("vb119"),E("vb233"),E("vb234"),E("vb235"),E("vb123"),E("vb236"),E("vb193"),E("vb237"),E("vb238"),E("vb124"),E("vb239"),E("vb104"),E("vb116"),E("vb120"),E("vb121"),E("vb117"),E("vb240"),E("vb134"),E("vb131"),E("vb226"),E("vb241"),E("vb110"),E("vb125"),E("vb242"),E("vb127"),E("vb132"),E("vb227"),E("vb135"),E("vb228"),E("vb229"),E("vb133"),E("vb126"),E("vb243"),E("vb262"),E("vb244"),E("vb245"),E("vb246"),E("vb247"),E("vb194"),E("vb248"),E("vb249"),E("vb201"),E("vb260"),E("vb267"),E("vb250"),E("vb136"),E("vb251"),E("vb130"),E("vb252"),E("vb367"),E("vb322"),E("vb414"),E("vb399"),E("vb400"),E("vb346"),E("vb368"),E("vb357"),E("vb381"),E("vb331"),E("vb342"),function(o){function i(){var a;Object(T.ov)(this,i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=o.call.apply(o,[this].concat(t))||this).handleClick=function(){var e=a.props,t=e.onClick,n=e.type;e.editable&&t(n)},a}return Object(T.bu)(i,o),Object(T.Pw)(i,[{key:"editable",get:function(){return this.props.editable}},{key:"disabled",get:function(){return!this.props.editable}},{key:"render",value:function(){var e=this.props,t=e.Icon,n=e.toolTip,a=e.decorator,o=e.iconClass,i=e.DropDown,l=e.selected,r=e.canUse,b=e.btnClass,c=this.disabled&&!r;return R.a.createElement("div",{className:"bitable-float-toolbar-btn-wrapper"},i,R.a.createElement(d.Tooltip,{title:n,placement:"top",hideAction:["click"],disabled:c},R.a.createElement("div",{className:C()("bitable-float-toolbar-btn",b,{editable:this.editable||r,disabled:c,selected:!!a||l}),onClick:this.handleClick},R.a.createElement("div",{className:"bitable-float-toolbar-btn-background"}),t&&R.a.createElement(t,{className:C()("bitable-float-toolbar-btn-icon",o)}),a)))}}]),i}(R.a.PureComponent)),v=function(o){function i(){var t;Object(T.ov)(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=o.call.apply(o,[this].concat(n))||this).anchorRef=null,t.getRef=function(){return t.anchorRef},t.setAnchorRef=function(e){t.anchorRef=e},t}return Object(T.bu)(i,o),Object(T.Pw)(i,[{key:"render",value:function(){var e=this.props,t=e.tableId,n=e.bitableStore,a=e.onClick,o=e.viewId,i=e.renderer,l=e.editable,r=e.filterCount,b=0<r?R.a.createElement("span",{className:"bitable-float-toolbar-decorator",style:{marginRight:4}},r):null;return R.a.createElement("div",{className:"bitable-float-toolbar-btn-filter",ref:this.setAnchorRef},R.a.createElement(B,{editable:l,DropDown:R.a.createElement(T.LD,{bitableStore:n,renderer:i,tableId:t,viewId:o,editable:l,anchorInfo:{getAnchorRef:this.getRef,anchorWidth:T.DE}}),decorator:b,type:T.LC.FILTER,toolTip:S("bitable.filter"),Icon:c.a,onClick:a,iconClass:0<r?"bitable-float-toolbar-btn-active":void 0}))}}]),i}(R.a.PureComponent),D=Object(T.oA)(function(e,t){var n,a=e.base,o=t.tableId,i=a.getTable(o),l=null!==(n=null==i?void 0:i.getActiveViewId())&&void 0!==n?n:"",r=null==i?void 0:i.getView(l),b=null==r?void 0:r.getValidFilterInfo();return{viewId:l,filterCount:b?Object(T.PD)(b.conditions).length:0}},void 0,function(e,t,n){var a=e.base,o=t.tableId,i=a.getTable(o),l=null==i?void 0:i.getActiveViewId();n(function(e){var t=l?null==i?void 0:i.getView(l):void 0;return null==t?void 0:t.batchBind(Object(T.Ww)({},T.uA.ViewFilterInfoChange,e))},[i,l]),n(function(e){return null==i?void 0:i.batchBind(Object(T.Ww)({},T.uA.ActiveViewChange,e))},[i])})(v),p=function(o){function i(){var t;Object(T.ov)(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=o.call.apply(o,[this].concat(n))||this).anchorRef=null,t.getRef=function(){return t.anchorRef},t.setAnchorRef=function(e){t.anchorRef=e},t}return Object(T.bu)(i,o),Object(T.Pw)(i,[{key:"render",value:function(){var e=this.props,t=e.tableId,n=e.onClick,a=e.viewId,o=e.collectSetGroupEvent,i=e.editable,l=e.groupLength,r=e.renderer,b=0<l?R.a.createElement("span",{className:"bitable-float-toolbar-decorator",style:{marginRight:4}},l):null;return R.a.createElement("div",{className:"bitable-float-toolbar-btn-group",ref:this.setAnchorRef},R.a.createElement(B,{editable:i,DropDown:R.a.createElement(T.MD,{tableId:t,viewId:a,collectSetGroupEvent:o,renderer:r,anchorInfo:{getAnchorRef:this.getRef,anchorWidth:T.DE},editable:!1}),decorator:b,type:T.LC.GROUP,toolTip:S("bitable.group"),Icon:s.a,onClick:n,iconClass:C()({"bitable-float-toolbar-btn-active":0<l})}))}}]),i}(R.a.PureComponent),L=Object(T.oA)(function(e,t){var n,a=e.base,o=t.tableId,i=a.getTable(o),l=null!==(n=null==i?void 0:i.getActiveViewId())&&void 0!==n?n:"",r=null==i?void 0:i.getView(l),b=null==r?void 0:r.getGroupInfo();return{viewId:l,groupLength:b&&b.length||0}},void 0,function(e,t,n){var a,o=e.base,i=t.tableId,l=o.getTable(i),r=null!==(a=null==l?void 0:l.getActiveViewId())&&void 0!==a?a:"";n(function(e){var t=null==l?void 0:l.getView(r);return null==t?void 0:t.batchBind(Object(T.Ww)({},T.uA.ViewGroupInfoChange,e))},[l,r]),n(function(e){return null==l?void 0:l.batchBind(Object(T.Ww)({},T.uA.ActiveViewChange,e))},[l])})(p);function N(e){return R.a.createElement(d.Tooltip,{title:S("bitable.fullscreen"),placement:"top",hideAction:["click"]},R.a.createElement("div",{className:"bitable-float-toolbar-btn-wrapper",onClick:e.onClick},R.a.createElement("div",{className:"bitable-float-toolbar-btn bitable-float-toolbar-btn-fullscreen editable"},R.a.createElement("div",{className:"bitable-float-toolbar-btn-background"}),R.a.createElement(i.a,{className:"bitable-float-toolbar-btn-icon"}))))}var g=function(o){function i(){var t;Object(T.ov)(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=o.call.apply(o,[this].concat(n))||this).anchorRef=null,t.getRef=function(){return t.anchorRef},t.setAnchorRef=function(e){t.anchorRef=e},t}return Object(T.bu)(i,o),Object(T.Pw)(i,[{key:"render",value:function(){var e=this.props,t=e.tableId,n=e.bitableStore,a=e.onClick,o=e.renderer,i=e.hiddenInfoMap,l=e.onboardingKanbanTableId,r=e.activeView,b=e.toggleFieldPanel,c=e.showFieldPanel,d=e.editable,s=e.base;if(!r)return null;var u=!1;if(i&&Object.keys(i).length){var v=s.getTable(t);u=!!v&&0<Object.keys(i).filter(function(e){return!!v.getField(e)}).length}var p={getAnchorRef:this.getRef,anchorWidth:T.DE},g=r.type===T.az.Kanban,h=r.type===T.az.Gallery,f="";g&&l===t&&(f=T.jC);var m=O.a,w=S("bitable.field_edit_title");return(g||h)&&(w=S("smartable.kanban_card_config"),m=g?F.z:F.a),R.a.createElement("div",{className:"bitable-float-toolbar-btn-field",ref:this.setAnchorRef,"data-selector":f},R.a.createElement(B,{editable:d,DropDown:R.a.createElement(m,{isOpen:c,toggleFieldPanel:b,bitableStore:n,tableId:t,renderer:o,anchorInfo:p}),type:T.LC.FIELD,toolTip:w,Icon:I.a,onClick:a,selected:u,iconClass:C()("bitable-float-toolbar-btn-icon-field")}))}}]),i}(R.a.PureComponent),_=Object(T.oA)(function(e){return{base:e.base}})(Object(a.b)(function(e){var t=e.toolbarStore;return{showFieldPanel:t.isOpenFieldPanel,toggleFieldPanel:t.toggleFieldPanel}})(Object(t.connect)(function(e,t){var n=t.tableId;return{hiddenInfoMap:Object(T.ZH)(e,n),onboardingKanbanTableId:Object(T.fI)(e)}})(Object(a.c)(g)))),h=function(o){function i(){var t;Object(T.ov)(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=o.call.apply(o,[this].concat(n))||this).anchorRef=null,t.getRef=function(){return t.anchorRef},t.setAnchorRef=function(e){t.anchorRef=e},t}return Object(T.bu)(i,o),Object(T.Pw)(i,[{key:"render",value:function(){var e=this.props,t=e.tableId,n=e.bitableStore,a=e.onClick,o=e.renderer,i=e.editable,l=e.activeView,r=e.showGanttBarSettingsPanel;if(!l)return null;var b={getAnchorRef:this.getRef,anchorWidth:T.sE};return R.a.createElement("div",{className:"bitable-float-toolbar-btn-entry bitable-float-toolbar-btn-gantt-bar-settings",ref:this.setAnchorRef},R.a.createElement(B,{DropDown:R.a.createElement(F.A,{isOpen:r,bitableStore:n,tableId:t,renderer:o,anchorInfo:b,editable:i}),type:T.LC.GANTT_BAR_SETTINGS,toolTip:S("bitable.gantt_config"),Icon:u.a,onClick:a,editable:i}))}}]),i}(R.a.PureComponent),W=Object(a.b)(function(e){return{showGanttBarSettingsPanel:e.toolbarStore.isOpenGanttBarSettingsPanel}})(h);function z(e){var t=e.onClick,n=e.canUse;return R.a.createElement(B,{editable:!0,type:T.LC.COMMENT,toolTip:S("common.comment",""),Icon:l.a,onClick:t,canUse:n})}function K(e){return R.a.createElement(B,{btnClass:"bitable-toolbar-reminder",editable:e.editable,type:T.LC.REMINDER,toolTip:S("reminder.popover.notifyTime"),Icon:r.a,onClick:e.onClick})}var H=function(e){function t(){return Object(T.ov)(this,t),e.apply(this,arguments)||this}return Object(T.bu)(t,e),Object(T.Pw)(t,[{key:"editable",get:function(){return!this.props.disabled}},{key:"disabled",get:function(){return this.props.disabled}}]),t}(B),f=function(n){function a(e){var t,l;return Object(T.ov)(this,a),(l=n.call(this,e)||this).anchorRef=null,l.lastFixFloatToolbarShow=!1,l.firstShowToolbar=!1,l.getRef=function(){return l.anchorRef},l.setAnchorRef=function(e){l.anchorRef=e},l.handleClickFieldSettingsBtnEvent=function(){l.handleClick(T.LC.FIELD)},l.setGroupRef=function(e){l.groupRef=e},l.handleClick=function(e){l.props.editable&&Object(T.Kz)((t=Object(T.Cx)(l),Object(T.Lz)(a.prototype)),"handleClick",t).call(t,e)},l.toggleKanbanGroupPanel=function(e){var t=l.props,n=t.setFloatToolbarVisibility;(0,t.toggleKanbanGroup)(e),n(e)},l.handleCommentClick=function(){var e=l.props,t=e.renderer,n=e.triggerCreateComment,a=t.activeBitableWidget&&t.activeBitableWidget.getGridWidget(),o=a.source.gridView.getVisibleRecords()[0],i=a.getActiveRecord()||o;T.cz.collectBitableEvent(T.Bc.CcmBitableToolbarClick,{click:T.PC[T.LC.COMMENT],target:T.Rw.CcmCommentView}),T.cz.collectBitableEvent(T.Rw.CcmCommentView,{source:"entrance_hover_click",comment_type:"part_comment"}),i&&n(i)},l}return Object(T.bu)(a,n),Object(T.Pw)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.isShow!==e.isShow&&(e.isShow?this.props.onShow&&this.props.onShow():this.hidePopup()),this.lastFixFloatToolbarShow=this.props.fixFloatToolbarShow}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.tableId,n=e.setFloatToolbarTable,a=e.isShow;this.props.fixFloatToolbarShow!==this.lastFixFloatToolbarShow&&t&&n(t,this.props.fixFloatToolbarShow),a&&!this.firstShowToolbar&&(this.firstShowToolbar=!0,T.cz.collectBitableEvent(T.Rw.CcmBitableToolbarView,{trigger_type:"hover_whole"}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.tableId,n=e.setFloatToolbarTable,a=e.fixFloatToolbarShow,o=e.renderer;a&&t&&n(t,!0),o.eventManager.addListener(T.ay.ClickFieldSettingsBtn,this.handleClickFieldSettingsBtnEvent),o.eventManager.addOnceListener(T.ay.ClickGroupSettingsBtn,this.handleClickGroupSettingsBtnEvent)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.tableId,n=e.setFloatToolbarTable,a=e.renderer;n(t,!1),this.hidePopup(),a.eventManager.removeListener(T.ay.ClickFieldSettingsBtn,this.handleClickFieldSettingsBtnEvent),a.eventManager.removeListener(T.ay.ClickGroupSettingsBtn,this.handleClickGroupSettingsBtnEvent)}},{key:"removeGroupMenu",value:function(){var e=this.props,t=e.kanbanGroupOpened,n=e.tableId;t&&n&&this.toggleKanbanGroupPanel(!1)}},{key:"openGroupMenu",value:function(){var e=this.props,t=e.tableId,n=e.viewId;e.editable&&t&&(this.toggleKanbanGroupPanel(!0),T.ob.collectBitableEvent(T.On.BitableOpenGroup,{table_id:t,view_id:n,bitable_view_type:T.Cz[T.az.Kanban],is_open:1,source:"toolbar",data_source:this.props.moduleType}),T.cz.collectBitableEvent(T.Rw.CcmBitableGroupingConditionView))}},{key:"renderToolbarBtns",value:function(){var e=this.props,t=e.tableId,n=e.bitableStore,a=e.onFullScreenClick,o=e.viewId,i=e.renderer,l=e.editable,r=e.extraFloatToolbarBtns,b=e.kanbanGroupOpened,c=e.rowHeightLevel,d=e.isCommentDataInit,s=e.viewEditable,u=e.getKanbanGroupField,v=e.groupFields,p=e.view,g=e.sortInfo,h=e.isAutoSort,f=null==p?void 0:p.type,m=f===T.az.Grid,w=f===T.az.Gantt,C=null!=h&&h,I=this.showGroupField(),O=[R.a.createElement(_,{key:T.LC.FIELD,tableId:t,bitableStore:n,onClick:this.handleClick,renderer:i,activeView:p,editable:l})];if(w&&O.push(R.a.createElement(W,{key:"gantt-bar-settings",tableId:t,bitableStore:n,onClick:this.handleClick,renderer:i,activeView:p,editable:l})),O.push(R.a.createElement(D,{key:T.LC.FILTER,tableId:t,bitableStore:n,renderer:i,onClick:this.handleClick,editable:l})),p&&((m||w)&&O.push(R.a.createElement(L,{key:T.LC.GROUP,tableId:t,renderer:i,bitableStore:n,onClick:this.handleClick,collectSetGroupEvent:this.collectSetGroupEvent,editable:l})),l&&s)){var y=C&&0<g.length?R.a.createElement("span",{className:"bitable-float-toolbar-decorator",style:{marginRight:4}},g.length):null;O.push(R.a.createElement("div",{className:"bitable-float-toolbar-btn-sort",ref:this.setAnchorRef,key:T.LC.SORT},R.a.createElement(B,{editable:l,DropDown:R.a.createElement(T.ND,{editable:!1,renderer:i,tableId:t,viewId:o,collectSetSortEvent:this.collectSetSortEvent,anchorInfo:{getAnchorRef:this.getRef,anchorWidth:T.DE}}),type:T.LC.SORT,toolTip:S("bitable.sort"),Icon:P.a,onClick:this.handleClick,decorator:y,iconClass:C?"bitable-float-toolbar-btn-active":void 0}))),m&&O.push(R.a.createElement("div",{className:"bitable-float-toolbar-btn-rowHeight",key:T.LC.ROW_HEIGHT},R.a.createElement(B,{editable:l,key:T.LC.ROW_HEIGHT,DropDown:R.a.createElement(T.OD,{tableId:t,viewId:o,anchorInfo:{getAnchorRef:this.getRef,anchorWidth:T.DE}}),type:T.LC.ROW_HEIGHT,toolTip:S("bitable.row_height"),Icon:F.c[c],onClick:this.handleClick})))}l&&I&&s&&O.splice(2,0,R.a.createElement("div",{className:"bitable-float-toolbar-kanban-group-btn",key:T.LC.KANBAN_GROUP,ref:this.setGroupRef,"data-selector":T.bD.smartable_kanban_group_setting},R.a.createElement(B,{editable:l,type:T.LC.KANBAN_GROUP,toolTip:S("bitable.group_by",""),Icon:j.a,onClick:this.handleGroupClick,iconClass:"bitable-float-toolbar-btn-icon-kanban-group",DropDown:R.a.createElement(F.b,{tableId:t,getAnchorRef:this.getRef,isOpen:b,onItemClick:this.onGroupOptionClick,bitableType:T.pA.EmbeddedInDoc,toggleKanbanGroup:this.toggleKanbanGroupPanel,groupFields:v,selectedField:u(t,o)})}))),r&&r.forEach(function(e){O.splice(e.index,0,R.a.createElement(H,Object(T.Kx)({},e,{editable:l})))});var k=[R.a.createElement("div",{key:"btn-separator",className:"bitable-doc-float-toolbar-separator"}),R.a.createElement(N,{key:"fullscreen",onClick:a})],E=Object(V.b)(n.bitableConfig)&&d;return p&&[T.az.Grid,T.az.Gantt].includes(p.type)&&this.props.haveCommentPermission&&E&&k.splice(1,0,R.a.createElement("div",{id:"toolbar-cell-keep-focus",className:"bitable-float-toolbar-comment-btn",key:"comment"},R.a.createElement(z,{onClick:this.handleCommentClick,tableId:t,canUse:!0}))),Object(V.a)(n.bitableConfig)&&(w||m)&&k.splice(1,0,R.a.createElement("div",null,R.a.createElement(K,{onClick:this.handleReminderClick,editable:l}))),O.concat(k)}},{key:"viewNotSupport",value:function(){var e=this.props,t=e.tableId,n=e.viewId;return!!e.bitableStore.downgradeManager.getViewNotSupportNotifyConfig({tableId:t||"",viewId:n||""})}},{key:"render",value:function(){if(this.viewNotSupport())return null;var e=this.props.isShow;return e?R.a.createElement("div",{className:C()("bitable-float-toolbar-wrapper",{show:e})},R.a.createElement("div",{className:"bitable-float-toolbar-list"},this.renderToolbarBtns())):null}}]),a}(F.d),m=Object(T.oA)(function(e){return{editable:e.permissionStore.getBasePermission(T.ry.Editable)}},void 0,function(e,t,n){var a=e.permissionStore;n(function(e){return a.subscribe(e),function(){return a.unsubscribe(e)}},[])}),w=Object(t.connect)(function(e,t){var n=Object(T.Fz)(e),a=n&&n.status.translated;return{haveCommentPermission:Object(T.Hz)(e)&&!a}},{setFloatToolbarTable:T.iH}),y=Object(e.a)(a.c,Object(a.b)(function(e,t){var n=e.toolbarStore;return Object.assign({setFloatToolbarVisibility:n.toggleFloatToolbar},Object(b.b)(n,t))}),w,Object(T.oA)(function(e,t){return Object(b.a)(e,t)},function(e,t){return Object(b.c)(e,t)},function(e,t,n){var o=e.base,a=e.permissionStore,i=t.tableId,l=t.viewId;n(function(e){return a.subscribe(e),function(){return a.unsubscribe(e)}},[]),n(function(e){var t,n=o.getTable(i);return null==n?void 0:n.batchBind((Object(T.Ww)(t={},T.uA.AddField,e),Object(T.Ww)(t,T.uA.DeleteField,e),Object(T.Ww)(t,T.uA.ViewNameChange,e),Object(T.Ww)(t,T.uA.ViewPublicLevelChange,e),Object(T.Ww)(t,T.uA.FieldAttrChange,e),t))},[i]),n(function(e){var t,n=o.getTable(i),a=null==n?void 0:n.getView(l);return null==a?void 0:a.batchBind((Object(T.Ww)(t={},T.uA.ViewGroupInfoChange,e),Object(T.Ww)(t,T.uA.ViewSortInfoChange,e),Object(T.Ww)(t,T.uA.ViewAutoSortChange,e),Object(T.Ww)(t,T.uA.ViewRowHeightLevelChange,e),Object(T.Ww)(t,T.uA.ViewDescriptionChange,e),t))},[i,l])}),m)(f)}.call(this,E("vb163"))}}]);
//# sourceMappingURL=//slardar.bytedance.net/api_v2/browser/jserr/get_sourcemap?bid=docs_pc&js_filename=embed-doc-float-toolbar.222cd98389.chunk.js