(window.webpackJsonp=window.webpackJsonp||[]).push([["5fd0b37cd7db","eb160de1de89"],{vb366:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("vb103"),l=n.n(a),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function c(e,t){var n={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var r=function(e){e.styles;var t=c(e,["styles"]);return l.a.createElement("svg",i({width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},t),l.a.createElement("path",{d:"M14 1a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h10m0-1H4a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4z",fill:"#8F959E"}))}},vb411:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("vb103"),l=n.n(a),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function c(e,t){var n={};for(var a in e)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var r=function(e){e.styles;var t=c(e,["styles"]);return l.a.createElement("svg",i({width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},t),l.a.createElement("path",{d:"M14 0H4a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4zm-.14 6.93L8.3 12.49l-.17.17a1 1 0 0 1-1.42 0l-.18-.17-2.38-2.39a1 1 0 0 1 0-1.42l.17-.17a1 1 0 0 1 1.42 0l1.68 1.68 4.86-4.86a1 1 0 0 1 1.41 0l.18.17a1 1 0 0 1-.01 1.43z",fill:"#54C248"}))}},vb648:function(e,a,l){"use strict";(function(b){l.d(a,"a",function(){return n}),l.d(a,"b",function(){return v});var v,e,g=l("vb103"),y=l("vb143"),t=(l("vb147"),l("vb159")),p=l.n(t),x=(l("vb148"),l("vb366")),_=l("vb411"),u=l("vb2190"),m=l("vb2169"),f=l("vb2172");function N(e){return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell-select"),style:{background:Object(y.UP)(e.color),color:Object(y.VP)(e.color)}},g.createElement("span",{className:"bitable-link-cell-select-text"},e.text))}function C(e){var t=e.text,n=e.avatarUrl;return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell-usertag")},g.createElement("span",null,t),g.createElement("img",{className:"bitable-link-cell-usertag-avatar",src:n}))}function w(e){return g.createElement("div",{className:p()("".concat("bitable-5a92a9","__link-cell-linktag-item"),Object(y.Ww)({},"".concat("bitable-5a92a9","__link-cell-linktag-item-no-name"),!e.text))},e.text||b("bitable.unnamed_record"))}function h(e){var t=e.type,a=e.name,n="-";if(t===y.og.Number){var l=e.property.text;if(l)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},l)}else if(Object(y.WP)(t)){var i=e.property.text;if(i)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},i)}else if(t===y.og.Text){var c=e.property.text;if(c)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},c)}else if(t===y.og.SingleSelect){var r=e.property,o=r.text,s=r.color;if(o)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},g.createElement(N,{text:o,color:s}))}else if(t===y.og.MultiSelect){var b=e.property,v=b.texts,p=b.colors;if(0<v.length)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},v.map(function(e,t){return g.createElement(N,{text:e,key:t,color:p[t]})}))}else if(t===y.og.SingleLink||t===y.og.DuplexLink){var u=e.property.texts;if(0<u.length)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},u.map(function(e,t){return null===e?null:g.createElement(w,{text:e,key:t})}))}else if(Object(y.UO)(t)){var m=e.property,f=m.texts,h=m.avatarUrls;if(0<f.length)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},f.map(function(e,t){return g.createElement(C,{text:e,key:t,avatarUrl:h[t]})}))}else if(t===y.og.Attachment){var d=e.property.texts;if(0<d.length)return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},d.map(function(e,t){var n=Object(y.xL)(a,!0);return g.createElement(n,{className:"bitable-link-cell-attachment-tag-img",key:t})}))}else{if(t===y.og.Checkbox){var k=e.property.text;return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell ").concat("bitable-5a92a9","__link-cell-checkbox")},k?g.createElement(_.a,{className:"bitable-link-cell-check-icon"}):g.createElement(x.a,{className:"bitable-link-cell-check-icon"}))}if(t===y.og.Url){var E=e.property.text;return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},E)}}return g.createElement("div",{className:"".concat("bitable-5a92a9","__link-cell")},n)}function n(n){var e=n.data,a=n.styleType,l=n.readonly,i=n.checked,c=n.onCheck,r=n.onExpand,t=n.showFieldNumber,o=void 0===t?4:t,s=e.length&&e[0].property.text||g.createElement("span",{className:"bitable-link-text-noname"},b("bitable.unnamed_record"));return g.createElement("div",{className:p()("".concat("bitable-5a92a9","__link-record-item"),l?"readonly":"",n.className),onClick:function(e){var t=e.target.className;-1===["bitable-link-close","bitable-link-expand"].indexOf(t)&&(l||a!==v.choose?(l||a===v.chosen)&&!n.disableExpand&&r&&r():c(!i))}},g.createElement("h3",{className:"bitable-link-h3"},s),g.createElement("ul",{className:"bitable-link-tbody"},e.slice(1,o+1).map(function(e,t){return g.createElement("li",{className:"bitable-link-item ".concat(Object(y.WP)(e.type)?"bitable-link-time-item":""),key:t},g.createElement("div",{className:"bitable-link-item-head"},e.name),g.createElement(h,{type:e.type,name:e.name,isPrimary:e.isPrimary,property:e.property}))})),!l&&!n.disableExpand&&a===v.choose&&g.createElement("div",{className:"bitable-link-expand",onClick:function(e){r&&r(),e.stopPropagation()}},g.createElement(u.a,null)),!l&&i&&a===v.choose&&g.createElement("div",{className:"bitable-link-check"},g.createElement(m.a,null)),!l&&a===v.chosen&&g.createElement(f.a,{className:"bitable-link-close",onClick:function(e){c(!1),e.stopPropagation()}}))}(e=v||(v={})).choose="choose",e.chosen="chosen"}).call(this,l("vb163"))},vb772:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return c});var a=5,l=3,i=64,c=200,r=500,o=96},vb953:function(e,n,i){"use strict";i.r(n),function(f){i.d(n,"LinkSelectPop",function(){return t});var h=i("vb143"),a=i("vb180"),d=i("vb103"),k=i("vb111"),E=i("vb648"),g=i("vb2187"),y=i("vb2172"),e=i("vb159"),x=i.n(e),_=i("vb772"),l=(i("vb129"),i("vb147"),i("vb152"),i("vb223"),i("vb214"),i("vb232"),i("vb187"),i("vb174"),i("vb225"),i("vb224"),i("vb128"),i("vb148"),i("vb122"),i("vb115"),i("vb112"),i("vb118"),i("vb119"),i("vb113"),i("vb167"),i("vb164"),i("vb233"),i("vb234"),i("vb235"),i("vb123"),i("vb236"),i("vb193"),i("vb237"),i("vb155"),i("vb238"),i("vb124"),i("vb239"),i("vb104"),i("vb116"),i("vb120"),i("vb121"),i("vb117"),i("vb240"),i("vb134"),i("vb131"),i("vb226"),i("vb241"),i("vb114"),i("vb110"),i("vb125"),i("vb242"),i("vb127"),i("vb132"),i("vb227"),i("vb135"),i("vb228"),i("vb229"),i("vb133"),i("vb126"),i("vb243"),i("vb262"),i("vb244"),i("vb245"),i("vb246"),i("vb247"),i("vb194"),i("vb248"),i("vb249"),i("vb201"),i("vb260"),i("vb267"),i("vb250"),i("vb136"),i("vb251"),i("vb130"),i("vb252"),i("vb366"),i("vb411"),15),t=function(t){function n(e){var c;return Object(h.ov)(this,n),(c=t.call(this,e)||this).scrollContainer=null,c.searchInputRef=null,c.selectPopRef=null,c.preventKeyUp=!1,c.onChange=function(t,e,n){if(n){var a=c.props.values,l=void 0===a?[]:a,i=l.findIndex(function(e){return e===t});if(-1!==i)e||l.splice(i,1);else{if(c.props.maxcount&&l.length>=c.props.maxcount)return void h.VL.error({key:"mention",content:f("bitable.field.link_record_exceed"),duration:3e3});c.props.isAdd?l.unshift(t):l.push(t)}c.props.onChange&&c.props.onChange(t,e,l)}else c.props.onChange&&c.props.onChange(t,e,[t])},c.onScrollCapture=function(){var e=Object(h.Cx)(c).scrollContainer;e&&e.scrollTop+e.clientHeight===e.scrollHeight&&c.props.onScroll&&c.props.onScroll()},c.onFilter=function(e,t,n){"switch"===n?c.props.onSwitchRecord&&c.props.onSwitchRecord(e):c.props.onSearch&&c.props.onSearch(t)},c.onSearchInputChange=Object(a.a)(function(e){c.preventKeyUp||c.onFilter(c.state.switchOnOff,e,"input")},150),c.onSwitchChange=function(e){c.onFilter(e,c.state.searchText,"switch"),c.setState({switchOnOff:e})},c.onCompositionStart=function(e){c.preventKeyUp=!0},c.onCompositionEnd=function(e){c.preventKeyUp=!1,c.onInputChange(e)},c.setSelectPopRef=function(e){c.selectPopRef=e,c.props.setSelectPopRef&&c.props.setSelectPopRef(e)},c.setSearchInputRef=function(e){c.searchInputRef=e,c.props.setSearchInputRef&&c.props.setSearchInputRef(e)},c.onInputChange=function(e){var t=e.target.value;c.setState({searchText:t}),c.onSearchInputChange(t)},c.state={searchText:"",switchOnOff:!1,focus:!1,showList:e.list||[],left:0,visible:!1},c}return Object(h.bu)(n,t),Object(h.Pw)(n,[{key:"componentDidMount",value:function(){var e=this.searchInputRef;e&&(e.addEventListener("compositionstart",this.onCompositionStart),e.addEventListener("compositionend",this.onCompositionEnd)),this.updatePosition()}},{key:"componentWillUnmount",value:function(){var e=this.searchInputRef;e&&(e.removeEventListener("compositionstart",this.onCompositionStart),e.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"componentDidUpdate",value:function(e){var t=e.list,n=void 0===t?[]:t,a=this.props.list,l=void 0===a?[]:a;n===l&&n.length===l.length||(this.setState({showList:l,visible:!1}),this.updatePosition())}},{key:"updatePosition",value:function(){var e=window.innerWidth,t=this.selectPopRef.getBoundingClientRect(),n=this.state.left;e<t.right+l?n+=e-t.right-l:t.left<l&&(n+=l-t.left),this.setState({left:n,visible:!0})}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.values,l=void 0===t?[]:t,i=a.list,c=void 0===i?[]:i,r=a.maxHeight,o=this.state,s=o.searchText,b=o.switchOnOff,v=o.focus,p=o.left,u=o.visible;(e=4<c.length?_.d-_.e:10+c.length*_.a)<_.f&&(e=_.f),r&&0<r-_.e&&e>r-_.e&&(e=r-_.e);var m={};return a.readonly?m.maxHeight=e+"px":m.height=e+"px",d.createElement("div",{ref:this.setSelectPopRef,className:x()("".concat("bitable-5a92a9","__link-linkselect"),this.props.classNames),style:{left:p+"px",visibility:u?"visible":"hidden"}},!a.readonly&&d.createElement("div",{className:"bitable-link-searcharea"},d.createElement("label",{className:x()("bitable-link-inputlabel",{focus:v,single:!a.isAdd&&!a.multiple})},d.createElement(g.a,{className:"bitable-link-input-icon"}),d.createElement("input",{type:"text",className:"bitable-link-input",placeholder:f("bitable.field_link_search"),value:s,ref:this.setSearchInputRef,autoFocus:!0,onFocus:function(){n.props.onSearchAreaFocus&&n.props.onSearchAreaFocus(),n.setState({focus:!0})},onBlur:function(){n.setState({focus:!1})},onChange:this.onInputChange})),!a.isAdd&&a.multiple&&d.createElement("div",{className:"bitable-link-filter"},d.createElement("span",{className:"bitable-link-filterspan"},f("bitable.link_do_filter")),d.createElement(k.Switch,{size:"small",checked:b,onChange:this.onSwitchChange})),a.isAdd&&d.createElement("div",{className:"bitable-link-tableinfo isadd"},d.createElement(y.a,{className:"bitable-link-tableinfo-close",onClick:function(){a.onClose&&a.onClose()}}))),a.readonly&&d.createElement("div",{className:"bitable-link-tableinfo"},d.createElement("span",{className:"bitable-link-tableinfo-span"},d.createElement(h.ix,{name:1<l.length?f("bitable.link_records_from_count"):f("bitable.link_record_from_count")},d.createElement("span",{className:"bitable-link-tableinfo-title"},a.tableName),l.length)),d.createElement("div",{className:"bitable-link-tableinfo-close",onClick:function(){a.onClose&&a.onClose()}})),d.createElement("ul",{className:"".concat("bitable-5a92a9","__link-list b-small-scrollbar"),style:m,ref:function(e){n.scrollContainer=e},onScrollCapture:this.onScrollCapture},0===c.length&&d.createElement("li",{className:"".concat("bitable-5a92a9","__link-list-li bitable-search-no-result"),key:"bitable-link-no-result",style:{height:"calc(100% - 30px)"}},d.createElement("div",{className:"bitable-search-no-result-img"}),f(b?"bitable.field.link_selected_no_result":"bitable.field.link_search_no_result")),0<c.length&&c.map(function(e){var t=e.recordId;return d.createElement("li",{className:"".concat("bitable-5a92a9","__link-list-li"),key:t},d.createElement(E.a,{styleType:E.b.choose,readonly:!!a.readonly,checked:-1!==l.indexOf(t),data:e.list,disableExpand:a.disableExpand,onExpand:function(){!a.disableExpand&&a.onExpand&&a.onExpand(t)},onCheck:function(e){n.onChange(t,e,!!a.multiple),a.multiple||a.onClose&&a.onClose()}}))})))}}]),n}(d.Component);t.defaultProps={values:[],list:[],editable:!0,disableExpand:!1}}.call(this,i("vb163"))}}]);
//# sourceMappingURL=//slardar.bytedance.net/api_v2/browser/jserr/get_sourcemap?bid=docs_pc&js_filename=5fd0b37cd7db.74d480a09b.chunk.js