(window.webpackJsonp=window.webpackJsonp||[]).push([["45c48cce2e2d"],{vb420:function(t,e,n){"use strict";function r(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}var o=r,a=n("vb501"),c=n("vb313");function i(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}var u=i,s=n("vb178");function l(t,e,n){var r=Object(s.a)(t)?o:u,i=arguments.length<3;return r(t,Object(c.a)(e,4),n,i,a.a)}e.a=l},vb444:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n("vb143"),i=n("vb103"),a=n("vb138"),o=(n("vb147"),n("vb148"),{getData:function(t,e){return r.ob.ClipboardHelper.getData({clipboardData:t,type:[e]})[e]},setData:function(t,e,n){r.ob.ClipboardHelper.setData({clipboardData:t,data:Object(r.Ww)({},e,n)})},getTypes:function(t){return t.types}}),c=function(t){function e(){return Object(r.ov)(this,e),t.apply(this,arguments)||this}return Object(r.bu)(e,t),Object(r.Pw)(e,[{key:"render",value:function(){return i.createElement(a.EditorComponent,Object(r.Kx)({},this.props,{businessKey:"lark-bitable",enableVirtualScroll:!1,domPurifyConfig:{enable:!0,config:{WHOLE_DOCUMENT:!0,FORCE_BODY:!0,ADD_URI_SAFE_ATTR:["xmlns:o","xmlns:x","xmlns:w"],ADD_TAGS:["meta","google-sheets-html-origin","byte-sheet-html-origin","melo-data","mention","highlight"],ADD_ATTR:["sheet-word-wrap","xmlns:o","xmlns:x","xmlns:w"],FORBID_TAGS:["noscript"],KEEP_CONTENT:!1}},proxyClipboard:o}))}}]),e}(i.Component);function u(t){var e=t.getRep(),n=e.lines.length()-1,r=e.lines.atIndex(n),i=r&&r.text.length,o=t.getContentState().getActiveZone().getZoneId(),a=[n,i],c=[n,i];t.selection.setSelection({start:{line:a[0],offset:a[1],zoneId:o},end:{line:c[0],offset:c[1],zoneId:o}},!0)}function s(t,e,n){if(t.getContentState()._clearStoreAttributes(),Array.isArray(e)){var r=t.repManager.getRep("0").alltext.length-1,i=(new a.ZoneDelta).delete(r).concat(n(e));t.getContentState().apply(i)}else if(t.listView)t.replaceAllText(e);else{var o=(new a.ZoneDelta).insert(e);t.getContentState().apply(o)}t.undoModule.stack.clearStack()}},vb488:function(t,e,n){"use strict";n.d(e,"a",function(){return j}),n.d(e,"b",function(){return R}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return r}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return N}),n.d(e,"i",function(){return D}),n.d(e,"j",function(){return S});var _=n("vb143"),f=n("vb319"),I=n("vb139"),p=(n("vb147"),n("vb103"),n("vb148"),n("vb420")),j={MENTION:"mention",HYPERLINK:"url",TEXT:"text",REFBLOCK:"REF_BLOCK",TAGBLOCK:"TAG_BLOCK"},d={AT_USER_BLOCK:"at-user-block"},N="mention-link",C="mention-type",R="mention-token",D="mention-notify",S="mention-icon";function r(t){return t.reduce(function(t,e){return t[e[0]]=e[1],t},{})}function v(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function i(t){return t.attributes&&0===Object.keys(t.attributes).length&&delete t.attributes,t}var a=/url-/,c=/cellPosition/,o=[String.fromCharCode(8203)],B=function(t){return"string"==typeof t?t.replace(new RegExp(o.join("|"),"g"),""):t};function L(t){for(var e="",n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(a.test(i)){e=t[i];break}}return e}function w(t,e){var n={type:"text"},r=e.hooks.callAll("collectText",{attributes:v(t)});r&&r.length&&(n.text=Object(f.a)(r));var i=Object(I.getBlockPropsFromAttributesMap)(t);if(i&&i.props.data)if(i.blockType===_.Dz.AT_USER_BLOCK){var o=i.props.data,a=o.user,c=o.mentionNotify;a&&(n.name=a.name||a.cn_name,n.en_name=a.en_name,n.category=d.AT_USER_BLOCK,n.type=j.MENTION,n.mentionType=_.EH.USER,n.token=a.id,n.link=a.avatar_url,n.mentionNotify=c,n.mentionId=a.mentionId,n.not_notify=a.not_notify,n.block_notify=a.block_notify)}else if(i.blockType===_.Dz.FILE_CARD_BLOCK){var u=i.props.data.fileInfo;u&&(n.text=u.name)}if(i&&i.props&&(i.blockType===j.REFBLOCK||i.blockType===j.TAGBLOCK)){var s=i.props,l=s.content,b=s.context;n.content=l,n.context=b,n.text=l}return n}function K(t,e){for(var n,c=j.HYPERLINK,u=j.TEXT,s=t+e,r=s.length,i=new RegExp(_.GH),o=[];n=i.exec(s);){var a=n[0],l=n.index;o.push({startIndex:l,endIndex:l+a.length,text:a})}var b=[];if(o.length){o.unshift({startIndex:0,endIndex:0});var f=Object(p.a)(o.slice(1),function(t,e){var n=t.endIndex,r=e.startIndex,i=e.endIndex,o=s.slice(n,r);o&&b.push({text:o,type:u});var a=s.slice(r,i);return b.push({text:a,type:c}),e},o[0]);f.endIndex<r&&b.push({text:s.slice(f.endIndex,r),type:u})}return b}function H(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=/mention-token|mention-type|mention-link|mention-notify|mention-sharePermHeldBack|mention-icon/.exec(i);o&&(n[o[0]]=i.replace(/^[^_]*?_/,"")||t[i])}return n}function P(t,e){for(var n=j.TEXT,r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];if(new RegExp(j.MENTION+"-token").test(o)){n=j.MENTION;break}(a.test(o)||c.test(o))&&(n=j.HYPERLINK)}return n===j.TEXT&&Object(_.FH)(t)&&(n=j.HYPERLINK),n}function u(t){for(var e=[],n=t.getContentState().getActiveZone(),r=n.length(),i="",o=0;o<r;o++){var a=n.getLine(o);if(a)for(var c=a.getOps(),u=c.length,s=0;s<u;s++){var l=c[s],b=l.attributes||{},f=l.insert||"",p=P(f,b),d={type:p,text:f};if(null==b.lmkr){switch(p){case j.MENTION:var v=H(b),g=v[C],O=v[R],y=v[N],m=v[D],h=v[S],x=null===m||"true"===m,T=Object(_.DH)(decodeURIComponent(y));e.push(Object.assign({},d,{text:f,type:p,mentionType:parseInt(g,10),mentionNotify:x,token:O,link:T,icon:h&&JSON.parse(h)}));continue;case j.HYPERLINK:var k=K(i,f),E=L(b);!E&&k.length?e.push.apply(e,Object(_.hI)(k)):(i.length&&e.push({text:i,type:j.TEXT}),e.push({text:f,type:p,link:E?Object(_.CH)(E):""})),i="";continue;case j.TEXT:Object(I.isBlockAttributes)(b)&&Object.assign(d,w(b,t)),d.text=B(d.text),e.push(d);continue}Object(I.isBlockAttributes)(b)&&Object.assign(d,w(b,t)),e.push(d)}}}return e}},vb537:function(t,e,n){},vb650:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});var p=n("vb143"),c=(n("vb147"),n("vb103"),n("vb148"),n("vb138")),d=n("vb488"),v=n("vb139"),r=0;function u(){return r++,Object(p.BH)(12)+"-"+r}function i(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r.attributes&&Object(d.d)(r.attributes)||{};switch(r.type){case d.a.TEXT:e.push(Object(d.e)({insert:r.text,attributes:i}));continue;case d.a.HYPERLINK:var o=r.text,a=r.link;i["url-".concat(Object(p.BH)(10))]=Object(p.CH)(a||o),e.push(Object(d.e)({insert:r.text,attributes:i}));continue;case d.a.MENTION:i["mention-uuid_".concat(u())]="true",Object.assign(i,Object(d.d)(r.attributes)),e.push(Object(d.e)({insert:r.text,attributes:i}));continue}}return new c.ZoneDelta({ops:e})}function o(t){if(0<t.length){var e=t[t.length-1];if("text"===e.type){var n=e.text||"";n&&"\n"!==n||t.pop(),n.endsWith("\n")&&(e.text=n.replace(/\u000A/g,""))}}return t}function g(t){return t&&t.key?JSON.stringify(t):null}function a(b,f,t){return Array.isArray(t)?t.map(function(t){var e=Object.assign({},t);if(e.category===d.c.AT_USER_BLOCK){var n=b.plugins.blockPlugin,r=p.Dz.AT_USER_BLOCK,i=Object(v.generateBlockDataSet)({blockType:r,creator:Object(v.getBlockCreator)(r,b),props:{data:{shouldNotifyLark:e.mentionNotify,user:{avatar_url:e.link,cn_name:e.name,en_name:e.en_name,id:e.token,name:e.name,larkNotify:e.mentionNotify,mentionId:e.mentionId}}}});e.text=" ",e.attributes=n.getAttrsFromBlockDataSet(i)}else if(e.type===d.a.MENTION){var o=e.token,a=e.mentionType,c=e.link,u=e.mentionNotify,s=e.icon;e.attributes=[[d.a.MENTION,!0],[d.b+"_"+o,!0],[d.f+"_"+String(a),!0],[d.h+"_"+c,!0],[d.i,u]];var l=g(s);l&&e.attributes.push([d.j,l])}return f.getIsCustomIconEnabled()&&e.icon&&(e.icon=JSON.stringify(e.icon)),e}):t}}}]);
//# sourceMappingURL=//slardar.bytedance.net/api_v2/browser/jserr/get_sourcemap?bid=docs_pc&js_filename=45c48cce2e2d.ac8a69dbf8.chunk.js